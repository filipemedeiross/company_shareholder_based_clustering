{% extends 'global/base.html' %}
{% load humanize %}

{% block content %}
<div class="main-content" id="main-content">
    <div class="dashboard-container">
        <h2>Database Statistics</h2>

        <div class="stats-section">
            <h3>Companies ({{ stats.companies.total_companies|intcomma }})</h3>

            <div class="stats-card">
                <h4>Capital Statistics</h4>

                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Minimum Capital</td>
                            <td>R$ {{ stats.companies.min_capital|intcomma }}</td>
                        </tr>
                        <tr>
                            <td>Maximum Capital</td>
                            <td>R$ {{ stats.companies.max_capital|intcomma }}</td>
                        </tr>
                        <tr>
                            <td>Average Capital</td>
                            <td>R$ {{ stats.companies.avg_capital|intcomma }}</td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>

        <div class="stats-section">
            <h3>Partners ({{ stats.partners.total_partners|intcomma }})</h3>

            <div class="stats-card">
                <h4>Entry Dates</h4>

                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Oldest Partner</td>
                            <td>{{ stats.partners.earliest_partner_date|date:"d/m/Y" }}</td>
                        </tr>
                        <tr>
                            <td>Most Recent Partner</td>
                            <td>{{ stats.partners.latest_partner_date|date:"d/m/Y" }}</td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>

        <div class="stats-section">
            <h3>Business Activities</h3>

            <div class="stats-card">
                <h4>General Statistics</h4>

                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Total Businesses</td>
                            <td>{{ stats.business.total_business|intcomma }}</td>
                        </tr>
                        <tr>
                            <td>Unique Businesses</td>
                            <td>{{ stats.business.unique_business|intcomma }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="stats-card">
                <h4>Operation Dates</h4>

                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Earliest Opening</td>
                            <td>{{ stats.business.earliest_opening|date:"d/m/Y" }}</td>
                        </tr>
                        <tr>
                            <td>Most Recent Opening</td>
                            <td>{{ stats.business.latest_opening|date:"d/m/Y" }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</div>
{% endblock %}